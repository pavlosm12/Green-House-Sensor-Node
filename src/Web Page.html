<!DOCTYPE html>
<html>
<head>
<title>ESP32-C3-MINI-1 SENSOR NODE</title>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='stylesheet' href='https://www.w3schools.com/w3css/4/w3.css'>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/fontawesome.min.css' integrity='sha384-jLKHWM3JRmfMU0A5x5AkjWkw/EYfGUAGagvnfryNV3F9VqM98XiIH7VBGVoxVSc7' crossorigin='anonymous'>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css' integrity='sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==' crossorigin='anonymous' referrerpolicy='no-referrer' />
<title> ESP32-C3-MINI-1	Sensor Node</title>

<style>
html,body,h1,h2,h3,h4,h5 {font-family: 'Raleway', sans-serif}
</style>
</head>
<body class='w3-light-grey':>



<!-- !PAGE CONTENT! -->
<div class='w3-main' style='margin-left:10px;margin-top:43px;'>

  <!-- Header -->
  <header class='w3-container' style='padding-top:22px;'>
    <h5><b><i class='fa fa-dashboard'></i> Sensor Node Measurements</b></h5>
  </header>

  <div class='w3-row-padding w3-margin-bottom'>
    <div class='w3-quarter'>
      <div class='w3-container w3-red w3-padding-16'>
        <div class='w3-left'><i class='fa fa-temperature-low' style='font-size:36px;'></i></div>
        <div class='w3-right'>
          <h3><span id='SHTC3_t'>-</span></h3>
        </div>
        <div class='w3-clear'></div>
        <h4>Temperature	&emsp; °C</h4>
      </div>
    </div>
    <div class='w3-quarter'>
      <div class='w3-container w3-blue w3-padding-16'>
        <div class='w3-left'><i class='fas fa-tint w3-xxxlarge'></i></div>
        <div class='w3-right'>
          <h3><span id='SHTC3_h'>-</span></h3>
        </div>
        <div class='w3-clear'></div>
        <h4>Humidity &emsp;	RH%</h4>
      </div>
    </div>
    <div class='w3-quarter'>
      <div class='w3-container w3-teal w3-padding-16'>
        <div class='w3-left'><i class='fas fa-fire w3-xxxlarge'></i></div>
        <div class='w3-right'>
          <h3><span id='AGS10'>-</span></h3>
        </div>
        <div class='w3-clear'></div>
        <h4>TVOC &emsp; PPM</h4>
      </div>
    </div>
    <div class='w3-quarter'>
      <div class='w3-container w3-orange w3-text-white w3-padding-16'>
        <div class='w3-left'><i class='fas fa-sun w3-xxxlarge'></i></div>
        <div class='w3-right'>
          <h3><span id='Ev'>-</span></h3>
        </div>
        <div class='w3-clear'></div>
        <h4>Sun Light &emsp; LUX</h4>
      </div>
    </div>
  </div>

<p><button type='button' id='BTN_SEND_BACK'>
Send info to ESP32
</button></p>


  <hr>
  <div class='w3-container'>
    <h5>Total Volatile Organic Compounds</h5>
    <p>Unhealthy</p>
    <div class='w3-grey'>
      <div class='w3-container w3-center w3-padding w3-red' style='width:100%'>2.2 - 5.5 PPM</div>
    </div>
	
	    <p>Poor</p>
    <div class='w3-grey'>
      <div class='w3-container w3-center w3-padding w3-orange' style='width:100%'>0.66 - 2.2 PPM</div>
    </div>

    <p>Moderate</p>
    <div class='w3-grey'>
      <div class='w3-container w3-center w3-padding w3-yellow' style='width:100%'>0.25 - 0.66 PPM</div>
    </div>

    <p>Good</p>
    <div class='w3-grey'>
      <div class='w3-container w3-center w3-padding w3-green' style='width:100%'>0.065 - 0.25 PPM</div>
    </div>
	
	<p>Excellent</p>
    <div class='w3-grey'>
      <div class='w3-container w3-center w3-padding w3-blue' style='width:100%'>0 - 0.065 PPM</div>
    </div>
	
  </div>
  </div>
  


 
    <h5>Suggested Conditions</h5>
    <table class='w3-table w3-striped w3-bordered w3-border w3-hoverable w3-light-gray'>
      <tr>
        <td>Strawberries</td>
        <td>Temperature</td>
		<td> - °C</td>
		<td>Humidity</td>
		<td> - RH%</td>
		<td>Sun Light</td>
		<td> - LUX </td>
      </tr>
      <tr>
        <td>Blueberries</td>
                <td>Temperature</td>
		<td> - °C</td>
		<td>Humidity</td>
		<td> - RH%</td>
		<td>Sun Light</td>
		<td> - LUX </td>
      </tr>
      <tr>
        <td>Lettuce</td>
                <td>Temperature</td>
		<td> - °C</td>
		<td>Humidity</td>
		<td> - RH%</td>
		<td>Sun Light</td>
		<td> - LUX </td>
      </tr>
      <tr>
        <td>Bell Pepers</td>
                <td>Temperature</td>
		<td> - °C</td>
		<td>Humidity</td>
		<td> - RH%</td>
		<td>Sun Light</td>
		<td> - LUX </td>
      </tr>
      <tr>
        <td>Basil</td>
                <td>Temperature</td>
		<td> - °C</td>
		<td>Humidity</td>
		<td> - RH%</td>
		<td>Sun Light</td>
		<td> - LUX </td>
      </tr>
      <tr>
        <td>Saffron</td>
                <td>Temperature</td>
		<td> - °C</td>
		<td>Humidity</td>
		<td> - RH%</td>
		<td>Sun Light</td>
		<td> - LUX </td>
      </tr>
    </table><br>
  <hr>

  </div>
  <br>
  <div class='w3-container w3-dark-grey w3-padding-32'>
    <div class='w3-row'>
      <div class='w3-container w3-third'>
        <h5 class='w3-bottombar w3-border-green'>MCU</h5>
		<h5 class=''>Espressif ESP32-C3-MINI-1</h5>
        <p>Small­sized 2.4 GHz Wi­Fi (802.11 b/g/n) and Bluetooth® 5 module

15 GPIOs
On­board PCB antenna or external antenna connector</p>
        <p>Built around ESP32­C3 series of SoCs, RISC­V single­core microprocessor
		4 MB flash in chip package</p>
        <p>15 GPIOs</p>
		<p>On­board PCB antenna or external antenna connector</p>
      <h16 class=''>https://www.espressif.com/sites/default/files/documentation/esp32-c3-mini-1_datasheet_en.pdf</h16>
	  </div>
      <div class='w3-container w3-third'>
        <h5 class='w3-bottombar w3-border-red'>On Board Sensors</h5>
		<h6 class='w3-border-red'>→	SHTC3	Humidity and Temperature Sensor IC</h6>
        <p>Ultra-low power consumption, Full battery supply voltage range (1.62 - 3.6 V), Small DFN package: 2 × 2 × 0.75 mm3, I2C interface.</p>
		<h6 class='w3-border-red'>→	AGS10 TVOC Sensor</h6>
        <p>Long-term stability, low power consumption, high sensitivity, I2C interface.</p>
		<h6 class='w3-border-red'>→	BH1621FVC Analog Current Output Type 
Ambient Light Sensor IC</h6>
        <p>Compact surface mount package 1.6 × 1.6 mm, Output current in proportion to brightness, 2 steps controllable output current gain, Supply voltage operates from 2.4V to 5.5V</p>
      </div>
      <div class='w3-container w3-third'>
        <h5 class='w3-bottombar w3-border-orange'>Communication Protocols</h5>
        <p>WiFi</p>
        <p>Bluetooth</p>
        <p>RS232</p>
        <p>UART</p>
      </div>
    </div>
  </div>

</div>


</body>
<script>
  var Socket;
  document.getElementById('BTN_SEND_BACK').addEventListener('click', button_send_back);
  function init() {
    Socket = new WebSocket('ws://' + window.location.hostname + ':81/');
    Socket.onmessage = function(event) {
      processCommand(event);
    };
  }
  function button_send_back() {
    var msg = {
	button_status: 'Pressed'
	};
	Socket.send(JSON.stringify(msg));
  }
  function processCommand(event) {
	var obj = JSON.parse(event.data);
	var SHTC3_t = obj.SHTC3_t;
	var SHTC3_h = obj.SHTC3_h;
	var AGS10 = obj.AGS10;
	var Ev = obj.Ev;
	
	SHTC3_t = SHTC3_t.toFixed(2);
	document.getElementById('SHTC3_t').innerHTML = SHTC3_t;
	
	SHTC3_h = SHTC3_h.toFixed(2);
	document.getElementById('SHTC3_h').innerHTML = SHTC3_h;
	
	AGS10 = AGS10.toFixed(3);
	document.getElementById('AGS10').innerHTML = AGS10;
	
	Ev = Ev.toFixed(2);
	document.getElementById('Ev').innerHTML = Ev;
    console.log(obj.SHTC3_t);
	console.log(obj.SHTC3_h);
  }
  window.onload = function(event) {
    init();
  }
</script>
</html>
